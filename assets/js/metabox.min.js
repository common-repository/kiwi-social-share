!function(e){!function(){let s=e(".kss-checkbox-list").find(".kss-multicheck-toggle");e(s).on("click",function(){let t=e(this).parent(".kss-toggle-wrapper").parent("ul").find(".kss-multicheck");s.data("checked")?(t.prop("checked",!1),s.data("checked",!1)):(t.prop("checked",!0),s.data("checked",!0))})}(),function(){let s;e(document.body).on("click",".kss-upload-button, .kss-media-item img",function(t){t.preventDefault();let i=e(this),l=i.closest(".kss-options").find(".kss-file-field-image"),o=i.closest(".kss-options").find(".kss-upload-file"),a=i.closest(".kss-options").find(".kss-media-status"),c=i.closest(".kss-options").find(".kss-upload-file-id");(s=wp.media.frames.media_file=wp.media({title:kiwiMediaSelects.choose,button:{text:kiwiMediaSelects.update},states:[new wp.media.controller.Library({title:kiwiMediaSelects.choose,library:wp.media.query({type:"image"})})]})).on("select",function(){let e=s.state().get("selection").first().toJSON();l.attr("src",e.url),o.val(e.url),c.val(e.id),0!==o.length&&0===l.length&&a.append('<div class="kss-media-item"><img style="max-width: 350px; width: 100%;" src="'+e.url+'"  class="kss-file-field-image" alt="" /><p class="kss-remove-wrapper"><a href="#" class="kss-remove-file-button">'+kiwiMediaSelects.delete+"</a></p></div>")}),s.open()})}(),e(document.body).on("click",".kss-remove-file-button",function(s){s.preventDefault();let t=e(this),i=t.closest(".kss-options").find(".kss-media-item"),l=t.closest(".kss-options").find(".kss-upload-file"),o=t.closest(".kss-options").find(".kss-upload-file-id");l&&(l.val(""),i.remove(),o.val(""))})}(jQuery);
